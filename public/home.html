<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title class="queue-title"> Queue - Derabuddy</title>
  <link rel="stylesheet" href="style.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>

<nav>
  <label for="sidebar-active" class="open-sidebar-button">
    <svg xmlns="http://www.w3.org/2000/svg" height="32" viewBox="0 -960 960 960" width="32">
      <path d="M120-240v-80h720v80H120Zm0-200v-80h720v80H120Zm0-200v-80h720v80H120Z"/>
    </svg>
  </label>
  <div class="brand">Derabuddy</div>
  <input type="checkbox" id="sidebar-active" />
  <label id="overlay" for="sidebar-active"></label>

  <div class="links-container">
    <label for="sidebar-active" class="close-sidebar-button">
      <svg xmlns="http://www.w3.org/2000/svg" height="32" viewBox="0 -960 960 960" width="32">
        <path d="m256-200-56-56 224-224-224-224 56-56 224 224 224-224 56 56-224 224 224 224-56 56-224-224-224 224Z"/>
      </svg>
    </label>
    <a href="profile.html">Profile</a>

    <a href="#" id="signout-btn">Sign Out</a>
  </div>
</nav>
<body>


  <main>
    <div class="queue-title">
      <h2>Queue</h2>
    </div>

    <div class="queue-card" id="cafe" onclick="increment('cafe')">
      <i class="fas fa-coffee"></i>
      <span><strong>Cafe</strong> <span id="cafe-count">5</span> people in queue | Est. Waiting Time: <span id="cafe-time">15</span>min</span>
    </div>

    <div class="queue-card" id="mba-mess" onclick="increment('mba-mess')">
      <i class="fas fa-utensils"></i>
      <span><strong>MBA Mess</strong> <span id="mba-mess-count">3</span> people in queue | Est. Waiting Time: <span id="mba-mess-time">5</span>min</span>
    </div>

    <div class="queue-card" id="cse-mess" onclick="increment('cse-mess')">
      <i class="fas fa-utensils"></i>
      <span><strong>CSE Mess</strong> <span id="cse-mess-count">8</span> people in queue | Est. Waiting Time: <span id="cse-mess-time">20</span>min</span>
    </div>

    <div class="queue-card" id="washing-area" onclick="increment('washing-area')">
      <i class="fas fa-soap"></i>
      <span><strong>Washing Area</strong> <span id="washing-area-count">2</span> people in queue | Est. Waiting Time: <span id="washing-area-time">20</span>min</span>
    </div>

    <div class="queue-card" id="library" onclick="increment('library')">
      <i class="fas fa-book"></i>
      <span><strong>Library</strong> <span id="library-count">7</span> people in queue | Est. Waiting Time: <span id="library-time">20</span>min</span>
    </div>
  </main>

  <div class="bottom-nav">
    <a href="marketplace.html" class="nav-icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><!--!Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2025 Fonticons, Inc.--><path d="M547.6 103.8L490.3 13.1C485.2 5 476.1 0 466.4 0L109.6 0C99.9 0 90.8 5 85.7 13.1L28.3 103.8c-29.6 46.8-3.4 111.9 51.9 119.4c4 .5 8.1 .8 12.1 .8c26.1 0 49.3-11.4 65.2-29c15.9 17.6 39.1 29 65.2 29c26.1 0 49.3-11.4 65.2-29c15.9 17.6 39.1 29 65.2 29c26.2 0 49.3-11.4 65.2-29c16 17.6 39.1 29 65.2 29c4.1 0 8.1-.3 12.1-.8c55.5-7.4 81.8-72.5 52.1-119.4zM499.7 254.9c0 0 0 0-.1 0c-5.3 .7-10.7 1.1-16.2 1.1c-12.4 0-24.3-1.9-35.4-5.3L448 384l-320 0 0-133.4c-11.2 3.5-23.2 5.4-35.6 5.4c-5.5 0-11-.4-16.3-1.1l-.1 0c-4.1-.6-8.1-1.3-12-2.3L64 384l0 64c0 35.3 28.7 64 64 64l320 0c35.3 0 64-28.7 64-64l0-64 0-131.4c-4 1-8 1.8-12.3 2.3z"/></svg></a>
    <a href="home.html" class="nav-icon center-icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--!Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2025 Fonticons, Inc.--><path d="M256 0a256 256 0 1 1 0 512A256 256 0 1 1 256 0zM232 120l0 136c0 8 4 15.5 10.7 20l96 64c11 7.4 25.9 4.4 33.3-6.7s4.4-25.9-6.7-33.3L280 243.2 280 120c0-13.3-10.7-24-24-24s-24 10.7-24 24z"/></svg></i></a>
    <a href="people.html" class="nav-icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512"><!--!Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2025 Fonticons, Inc.--><path d="M64 64a64 64 0 1 1 128 0A64 64 0 1 1 64 64zM25.9 233.4C29.3 191.9 64 160 105.6 160l44.8 0c27 0 51 13.4 65.5 34.1c-2.7 1.9-5.2 4-7.5 6.3l-64 64c-21.9 21.9-21.9 57.3 0 79.2L192 391.2l0 72.8c0 26.5-21.5 48-48 48l-32 0c-26.5 0-48-21.5-48-48l0-115.7c-26.5-9.5-44.7-35.8-42.2-65.6l4.1-49.3zM448 64a64 64 0 1 1 128 0A64 64 0 1 1 448 64zM431.6 200.4c-2.3-2.3-4.9-4.4-7.5-6.3c14.5-20.7 38.6-34.1 65.5-34.1l44.8 0c41.6 0 76.3 31.9 79.7 73.4l4.1 49.3c2.5 29.8-15.7 56.1-42.2 65.6L576 464c0 26.5-21.5 48-48 48l-32 0c-26.5 0-48-21.5-48-48l0-72.8 47.6-47.6c21.9-21.9 21.9-57.3 0-79.2l-64-64zM272 240l0 32 96 0 0-32c0-9.7 5.8-18.5 14.8-22.2s19.3-1.7 26.2 5.2l64 64c9.4 9.4 9.4 24.6 0 33.9l-64 64c-6.9 6.9-17.2 8.9-26.2 5.2s-14.8-12.5-14.8-22.2l0-32-96 0 0 32c0 9.7-5.8 18.5-14.8 22.2s-19.3 1.7-26.2-5.2l-64-64c-9.4-9.4-9.4-24.6 0-33.9l64-64c6.9-6.9 17.2-8.9 26.2-5.2s14.8 12.5 14.8 22.2z"/></svg></a>
  </div>



</body>

<script>
  const waitTimeMultiplier = {
    cafe: 3,
    "mba-mess": 2,
    "cse-mess": 2.5,
    "washing-area": 10,
    library: 3
  };

  const toggleState = {
    cafe: true,
    "mba-mess": true,
    "cse-mess": true,
    "washing-area": true,
    library: true
  };

  let activeQueue = null;

  function increment(id) {
    // Prevent clicking another card while one is active
    if (activeQueue && activeQueue !== id) {
      return;
    }

    const countSpan = document.getElementById(`${id}-count`);
    const timeSpan = document.getElementById(`${id}-time`);
    const card = document.getElementById(id);

    let currentCount = parseInt(countSpan.innerText);

    if (toggleState[id]) {
      currentCount += 1;
      card.classList.add("active");
      activeQueue = id;
    } else {
      currentCount = Math.max(0, currentCount - 1);
      card.classList.remove("active");
      activeQueue = null;
    }

    toggleState[id] = !toggleState[id];

    countSpan.innerText = currentCount;
    const newTime = Math.round(currentCount * waitTimeMultiplier[id]);
    timeSpan.innerText = newTime;
  }

  document.getElementById("signout-btn").addEventListener("click", function (e) {
    e.preventDefault();

    // Example: Clear localStorage/sessionStorage token
    localStorage.removeItem("authToken");
    sessionStorage.removeItem("user");

    // Optionally send a logout request to your backend
    // fetch("/logout", { method: "POST" })...

    // Redirect to login page
    window.location.href = "index.html"; // or your actual login page
  });
</script>




</html>
